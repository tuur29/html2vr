var html2vr=function(n){var e={};function t(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:r})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)t.d(r,o,function(e){return n[e]}.bind(null,o));return r},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=0)}([function(n,e,t){"use strict";function r(){return window.opener.location?window.opener:window.parent}function o(){window.console=r().console}function a(n){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.document).createRange().createContextualFragment(n)}function i(n){return Array.from(n.body.attributes).filter(function(n){return 0===n.name.indexOf("data-html2vr")}).reduce(function(n,e){return n[e.name]=e.value,n},{})}function c(){document.getElementById("spinner").setAttribute("visible","true")}function l(n){n("refresh"),o(),document.getElementById("spinner").setAttribute("visible","false")}function u(n){var e=r().location.href,t=setInterval(function(){r().location.href!==e&&(clearInterval(t),"complete"===r().document.readyState?l(n):r().addEventListener("load",function(){l(n)}))},50)}function d(n,e){var t=a('\n    <a-box\n      class="html2vr-element clickable"\n      position="-4 4 -6"\n      width="1" height="1" depth="0.1"\n      color="white"\n      src="#back" />\n  ');t.querySelector("*").addEventListener("click",function(){c(),r().history.back(),u(e)}),n.appendChild(t)}function s(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.scriptLocation||Array.from(document.querySelectorAll("script")).filter(function(n){return n.src.includes("html2vr.min.js")})[0].src.replace(/[^\/]*$/,"")+"html2vr.min.js",t=window.open("","HTML2VR","\n    toolbar=no,\n    location=no,\n    directories=no,\n    status=no,\n    menubar=no,\n    scrollbars=yes,\n    resizable=yes,\n    height=800,\n    width=800\n  ");if(t.document.querySelector("#loader"))return t;t.document.body.appendChild(a("\n    <div id='loader'></div>\n    <style>\n        body { \n            background: ".concat(n.backgroundColor,";\n            margin: 0;\n        }\n\n        #loader {\n            height: 32px;\n            width: 32px;\n            position: fixed;\n            top: calc(50% - (32px / 2));\n            left: calc(50% - (32px / 2));\n            animation: rotate 0.8s infinite linear;\n            border: 8px solid black;\n            border-right-color: transparent;\n            border-radius: 50%;\n        }\n        \n        @keyframes rotate {\n            0%  { transform: rotate(0deg); }\n            100%  { transform: rotate(360deg); }\n        }\n\n        a-assets {\n          display: none;\n        }\n    </style>\n  "),t.document));var r=a('\n    <script id="lib" src="'.concat(e,'"><\/script>\n    <script>\n        var script = document.head.querySelector("#lib");\n        script.onload = function() {\n          html2vr.render(JSON.parse(\'').concat(JSON.stringify(n),"'))\n        }\n    <\/script>\n  "),t.document);return t.document.head.appendChild(r),t}function f(){var n,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.document.head.appendChild(a("\n    <style>\n      #html2vr-button {\n        position: fixed;\n        right: 0;\n        bottom: 0;\n        z-index: 9999;\n        margin: 20px;\n        border-radius: 50px;\n        background: #444;\n        box-shadow: 1px 1px 3px #111;\n        font-size: 16px;\n        color: white;\n        width: 50px;\n        height: 50px;\n        vertical-align: middle;\n        text-align: middle;\n        border: none;\n      }\n    </style>\n  "));var t,r,o,i=(t='<button href="#" id="html2vr-button">3D</button>',r=document.createElement("template"),o=t.trim(),r.innerHTML=o,r.content.firstChild);i.addEventListener("click",function(){n?(n.close(),n=null,i.innerHTML="3D"):((n=s(e)).onbeforeunload=function(){n=null,i.innerHTML="3D"},i.innerHTML="Exit")}),document.body.appendChild(i)}t.r(e);var p='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="50px" height="50px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">\n    <path d="M427,234.625H167.296l119.702-119.702L256,85L85,256l171,171l29.922-29.924L167.296,277.375H427V234.625z" fill="#000"/>\n</svg>';function m(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var v=function(){function n(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n)}var e,t,o;return e=n,o=[{key:"getData",value:function(n){var e=i(n);return Array.from(n.querySelectorAll(e["data-html2vr-selector"]))}},{key:"draw",value:function(n,e,t,o){var i=n.querySelector("a-assets");e.forEach(function(e,l){var d=e.parentElement.href,s=e.src,f=l%t.columnCount,p=(l-f)/t.columnCount,m=0,v=1.5;m-=(1.6*t.columnCount+.2*t.columnCount*2)/2,v+=3.25,m+=.2+2*f+.8,v-=.2+1.3*p+.45;var h="grid"+function(n){var e,t=0;if(0===n.length)return t;for(e=0;e<n.length;e++)t=(t<<5)-t+n.charCodeAt(e),t|=0;return t}(s),b=a('<img id="'.concat(h,'" src="').concat(s,'">'));i.appendChild(b);var g=a('\n        <a-box class="html2vr-element clickable"\n          position="'.concat(m," ").concat(v," ").concat(-6,'"\n          width="').concat(1.6,'" height="').concat(.9,'" depth="0.1"\n          src="#').concat(h,'" />\n      '));g.querySelector("*").addEventListener("click",function(){!function(n,e){c(),r().location.href=n,u(e)}(d,function(){return o("refresh")})}),n.appendChild(g)})}}],(t=null)&&m(e.prototype,t),o&&m(e,o),n}();function h(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var b=function(){function n(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n)}var e,t,r;return e=n,r=[{key:"getData",value:function(n){var e=i(n);return n.querySelector(e["data-html2vr-selector"])}},{key:"draw",value:function(n,e,t,r){d(n,r);var o=a('\n      <a-text\n        class="html2vr-element"\n        position="0 1.5 -6"\n        value="'.concat(e.innerHTML,'"\n        anchor="left"\n        geometry="primitive:plane; width: auto; height: "\n        material="opacity: 0"\n        color="black"\n        width="12"\n      />\n    '));n.appendChild(o)}}],(t=null)&&h(e.prototype,t),r&&h(e,r),n}();function g(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var y=function(){function n(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n)}var e,t,r;return e=n,r=[{key:"draw",value:function(n,e,t,r){d(n,r);var o=a('\n        <a-text \n          class="html2vr-element"\n          position="0 1.5 -6"\n          value="This page is not supported, please go back."\n          anchor="left"\n          geometry="primitive:plane; width: auto; height: "\n          material="opacity: 0"\n          color="black"\n          width="12"\n        />\n    ');n.appendChild(o)}}],(t=null)&&g(e.prototype,t),r&&g(e,r),n}();function w(){var n,e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function r(){document.querySelectorAll(".html2vr-element").forEach(function(n){n.parentElement.removeChild(n)}),l()}function c(n){"refresh"===n&&r()}function l(){var e=i(window.opener.document)["data-html2vr-page-type"];if("detail"===e){var r=b.getData(window.opener.document);b.draw(n,r,t,c)}else if("grid"===e){var o=v.getData(window.opener.document);v.draw(n,o,t,c)}else y.draw(n,null,t,c)}(o(),(e=document.createElement("script")).src=t.aframeUrl,document.head.appendChild(e),new Promise(function(n){e.addEventListener("load",function(){return n()})})).then(function(){((n=document.createElement("a-scene")).setAttribute("id","scene"),n.setAttribute("class","html2vr-permanent"),n.setAttribute("background","color: ".concat(t.backgroundColor)),document.body.appendChild(n),new Promise(function(e){n.addEventListener("loaded",function(){var r=a('<a-assets class="html2vr-permanent" />'),o=a('\n            <img\n              id="back"\n              src="data:image/svg+xml;base64,'.concat(window.btoa(p),'"\n            />\n        '));r.appendChild(o),n.appendChild(r);var i=a('\n          <a-entity camera look-controls>\n            <a-entity cursor="fuse: true; fuseTimeout: '.concat(1500,';"\n                      raycaster="far: 20; interval: ').concat(300,'; objects: .clickable"\n                      animation__click="property: scale; startEvents: click; easing: easeInCubic; dur: ').concat(150,'; from: 0.1 0.1 0.1; to: 1 1 1"\n                      animation__fusing="property: scale; startEvents: fusing; easing: easeInCubic; dur: ').concat(1500,'; from: 1 1 1; to: 0.1 0.1 0.1"\n                      animation__mouseleave="property: scale; startEvents: mouseleave; easing: easeInCubic; dur: ').concat(500,'; to: 1 1 1"\n                      material="color: black; shader: flat"\n                      position="0 0 -3"\n                      geometry="primitive: ring; radiusInner: 0.05; radiusOuter: 0.07;" />\n            <a-entity id="spinner"\n                      visible="false"\n                      material="color: ').concat(t.backgroundColor,'; shader: flat"\n                      position="0 0 1"\n                      geometry="primitive: ring; radiusInner: 0.03; radiusOuter: 0.05; thetaLength: 180;"\n                      animation="property: geometry.thetaStart; to: 360 0; loop: true; dur: 1000; easing: linear" />\n          </a-entity>\n        '));n.appendChild(i);var c=a('\n          <a-circle class="html2vr-permanent"\n            position="0 -1.5 0"\n            rotation="-90 0 0"\n            color="#9d9d9d"\n            radius="4" />\n        ');n.appendChild(c),e()})})).then(function(){l()})})}var x={columnCount:4,backgroundColor:"#cecece",aframeUrl:"https://aframe.io/releases/0.9.1/aframe.min.js",scriptLocation:void 0};function k(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.forEach(function(e){C(n,e,t[e])})}return n}function C(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function E(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(k({},x,n))}function O(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};w(k({},x,n))}function S(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(k({},x,n))}t.d(e,"init",function(){return E}),t.d(e,"render",function(){return O}),t.d(e,"openPopup",function(){return S})}]);